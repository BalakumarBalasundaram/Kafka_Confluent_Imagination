balakumarbalasundaram@Balakumars-MBP cp-demo % java -version
openjdk version "16" 2021-03-16
OpenJDK Runtime Environment (build 16+36-2231)
OpenJDK 64-Bit Server VM (build 16+36-2231, mixed mode, sharing)
balakumarbalasundaram@Balakumars-MBP cp-demo % which java
/usr/bin/java
balakumarbalasundaram@Balakumars-MBP cp-demo % /usr/libexec/java_home -V
Matching Java Virtual Machines (4):
    16 (x86_64) "Oracle Corporation" - "OpenJDK 16" /Users/balakumarbalasundaram/Library/Java/JavaVirtualMachines/openjdk-16/Contents/Home
    1.8.281.09 (x86_64) "Oracle Corporation" - "Java" /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home
    1.8.0_282 (x86_64) "Amazon" - "Amazon Corretto 8" /Users/balakumarbalasundaram/Library/Java/JavaVirtualMachines/corretto-1.8.0_282/Contents/Home
    1.8.0_281 (x86_64) "Oracle Corporation" - "Java SE 8" /Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home
/Users/balakumarbalasundaram/Library/Java/JavaVirtualMachines/openjdk-16/Contents/Home
balakumarbalasundaram@Balakumars-MBP cp-demo % ls /Library 
Apple			Components		Documentation		Graphics		Keyboard Layouts	OpenDirectory		QuickLook		Security		SystemMigration
Application Support	Compositions		DriverExtensions	Image Capture		Keychains		Perl			Receipts		Speech			SystemProfiler
Audio			Contextual Menu Items	Extensions		Input Methods		LaunchAgents		PreferencePanes		Ruby			Spotlight		Updates
Caches			CoreAnalytics		Filesystems		InstallerSandboxes	LaunchDaemons		Preferences		Sandbox			StagedDriverExtensions	User Pictures
Catacomb		CoreMediaIO		Fonts			Internet Plug-Ins	Logs			Printers		Screen Savers		StagedExtensions	User Template
ColorPickers		Developer		Frameworks		Java			Modem Scripts		PrivilegedHelperTools	ScriptingAdditions	StartupItems		Video
ColorSync		DirectoryServices	GPUBundles		KernelCollections	OSAnalytics		Python			Scripts			SystemExtensions	WebServer
balakumarbalasundaram@Balakumars-MBP cp-demo % export JAVA_HOME=`/usr/libexec/java_home -v 1.8.0_281`
balakumarbalasundaram@Balakumars-MBP cp-demo % java -version
java version "1.8.0_281"
Java(TM) SE Runtime Environment (build 1.8.0_281-b09)
Java HotSpot(TM) 64-Bit Server VM (build 25.281-b09, mixed mode)
balakumarbalasundaram@Balakumars-MBP cp-demo % ./scripts/stop.sh                                     
Stopping tools     ... done
Stopping zookeeper ... done
Stopping openldap  ... done
Removing tools     ... done
Removing kafka2    ... done
Removing kafka1    ... done
Removing zookeeper ... done
Removing openldap  ... done
Removing network cp-demo_default

-----------------------------------------------------------------------------------------------------------
If you ran the Hybrid Cloud portion of this tutorial, which included creating resources in Confluent Cloud,
follow the clean up procedure to destroy those resources to avoid unexpected charges.

     https://docs.confluent.io/platform/current/tutorials/cp-demo/docs/teardown.html

-----------------------------------------------------------------------------------------------------------

balakumarbalasundaram@Balakumars-MBP cp-demo % CLEAN=true VIZ=false ./scripts/start.sh               
Removing network cp-demo_default
WARNING: Network cp-demo_default not found.

-----------------------------------------------------------------------------------------------------------
If you ran the Hybrid Cloud portion of this tutorial, which included creating resources in Confluent Cloud,
follow the clean up procedure to destroy those resources to avoid unexpected charges.

     https://docs.confluent.io/platform/current/tutorials/cp-demo/docs/teardown.html

-----------------------------------------------------------------------------------------------------------

CLEAN=true -> deleting existing certificates and local Connect Docker image generated by cp-demo
Error: No such image: localbuild/connect:6.1.1-6.1.1

Environment parameters
  REPOSITORY=confluentinc
  CONNECTOR_VERSION=6.1.1
  CLEAN=true
  VIZ=false
  C3_KSQLDB_HTTPS=false

Generate keys and certificates used for SSL (see /Users/balakumarbalasundaram/Documents/publicrepo/cp-demo/scripts/helper/security)
Generating a 2048 bit RSA private key
.............+++
.+++
writing new private key to 'snakeoil-ca-1.key'
-----
Creating certificates
Created certificates for badapp
Created certificates for appSA
Created certificates for connectorSA
Created certificates for ksqlDBUser
Created certificates for client
Created certificates for schemaregistry
Created certificates for connect
Created certificates for controlCenterAndKsqlDBServer
Created certificates for mds
Created certificates for kafka2
Created certificates for kafka1
Created certificates for zookeeper
Created certificates for clientListen
Created certificates for restproxy
Creating certificates completed
Generating public and private keys for token signing
Generating RSA private key, 2048 bit long modulus
.................................+++
..........................................................................................................................................................................................................................................................................+++
e is 65537 (0x10001)
writing RSA key
Setting insecure permissions on some files in /Users/balakumarbalasundaram/Documents/publicrepo/cp-demo/scripts/helper/../security for demo purposes

Creating network "cp-demo_default" with the default driver
Creating openldap ... done
openldap is up-to-date
Creating zookeeper ... done
Creating kafka1    ... done
Creating kafka2    ... done
Creating tools     ... done
Waiting up to 120 seconds for MDS to start
......âœ” 

Updating certificates in /etc/ssl/certs...
1 added, 0 removed; done.
Running hooks in /etc/ca-certificates/update.d...
done.
Creating role bindings for principals

# Login to MDS using Confluent CLI
spawn confluent login --ca-cert-path /etc/kafka/secrets/snakeoil-ca-1.crt --url https://kafka1:8091
Updates are available for confluent from (current: v1.18.0, latest: v1.22.0).
To view release notes and install them, please run:
$ confluent update

Enter your Confluent credentials:
Username: superUser
Password: *********
Logged in as "superUser".
Creating role bindings for Super User
+--------------+----------------+
| Principal    | User:superUser |
| Role         | SystemAdmin    |
| ResourceType | Cluster        |
+--------------+----------------+
+--------------+----------------+
| Principal    | User:superUser |
| Role         | SystemAdmin    |
| ResourceType | Cluster        |
+--------------+----------------+
+--------------+----------------+
| Principal    | User:superUser |
| Role         | SystemAdmin    |
| ResourceType | Cluster        |
+--------------+----------------+
+--------------+----------------+
| Principal    | User:superUser |
| Role         | SystemAdmin    |
| ResourceType | Cluster        |
+--------------+----------------+
Creating role bindings for Schema Registry
+--------------+-------------------------+
| Principal    | User:schemaregistryUser |
| Role         | SecurityAdmin           |
| ResourceType | Cluster                 |
+--------------+-------------------------+
+--------------+-------------------------+
| Principal    | User:schemaregistryUser |
| Role         | ResourceOwner           |
| ResourceType | Topic                   |
| Name         | _schemas                |
| PatternType  | LITERAL                 |
+--------------+-------------------------+
+--------------+-------------------------+
| Principal    | User:schemaregistryUser |
| Role         | ResourceOwner           |
| ResourceType | Group                   |
| Name         | schema-registry         |
| PatternType  | LITERAL                 |
+--------------+-------------------------+
+--------------+-------------------------+
| Principal    | User:schemaregistryUser |
| Role         | DeveloperRead           |
| ResourceType | Topic                   |
| Name         | _confluent-license      |
| PatternType  | LITERAL                 |
+--------------+-------------------------+
+--------------+-------------------------+
| Principal    | User:schemaregistryUser |
| Role         | DeveloperWrite          |
| ResourceType | Topic                   |
| Name         | _confluent-license      |
| PatternType  | LITERAL                 |
+--------------+-------------------------+
Creating role bindings for Connect Admin
+--------------+-------------------+
| Principal    | User:connectAdmin |
| Role         | SecurityAdmin     |
| ResourceType | Cluster           |
+--------------+-------------------+
+--------------+-------------------+
| Principal    | User:connectAdmin |
| Role         | ResourceOwner     |
| ResourceType | Topic             |
| Name         | connect-configs   |
| PatternType  | LITERAL           |
+--------------+-------------------+
+--------------+-------------------+
| Principal    | User:connectAdmin |
| Role         | ResourceOwner     |
| ResourceType | Topic             |
| Name         | connect-offsets   |
| PatternType  | LITERAL           |
+--------------+-------------------+
+--------------+-------------------+
| Principal    | User:connectAdmin |
| Role         | ResourceOwner     |
| ResourceType | Topic             |
| Name         | connect-statuses  |
| PatternType  | LITERAL           |
+--------------+-------------------+
+--------------+-------------------+
| Principal    | User:connectAdmin |
| Role         | ResourceOwner     |
| ResourceType | Group             |
| Name         | connect-cluster   |
| PatternType  | LITERAL           |
+--------------+-------------------+
+--------------+-----------------------+
| Principal    | User:connectAdmin     |
| Role         | ResourceOwner         |
| ResourceType | Topic                 |
| Name         | _confluent-monitoring |
| PatternType  | LITERAL               |
+--------------+-----------------------+
+--------------+--------------------+
| Principal    | User:connectAdmin  |
| Role         | ResourceOwner      |
| ResourceType | Topic              |
| Name         | _confluent-secrets |
| PatternType  | LITERAL            |
+--------------+--------------------+
+--------------+-------------------+
| Principal    | User:connectAdmin |
| Role         | ResourceOwner     |
| ResourceType | Group             |
| Name         | secret-registry   |
| PatternType  | LITERAL           |
+--------------+-------------------+
Creating role bindings for wikipedia-sse connector
+--------------+-------------------------+
| Principal    | User:connectorSubmitter |
| Role         | ResourceOwner           |
| ResourceType | Connector               |
| Name         | wikipedia-sse           |
| PatternType  | LITERAL                 |
+--------------+-------------------------+
+--------------+------------------+
| Principal    | User:connectorSA |
| Role         | ResourceOwner    |
| ResourceType | Topic            |
| Name         | wikipedia        |
| PatternType  | PREFIXED         |
+--------------+------------------+
+--------------+------------------+
| Principal    | User:connectorSA |
| Role         | ResourceOwner    |
| ResourceType | Subject          |
| Name         | wikipedia        |
| PatternType  | PREFIXED         |
+--------------+------------------+
+--------------+------------------+
| Principal    | User:connectorSA |
| Role         | DeveloperWrite   |
| ResourceType | Cluster          |
| Name         | kafka-cluster    |
| PatternType  | LITERAL          |
+--------------+------------------+
Creating role bindings for replicate-topic connector
+--------------+-------------------------+
| Principal    | User:connectorSubmitter |
| Role         | ResourceOwner           |
| ResourceType | Connector               |
| Name         | replicate-topic         |
| PatternType  | LITERAL                 |
+--------------+-------------------------+
+--------------+------------------+
| Principal    | User:connectorSA |
| Role         | ResourceOwner    |
| ResourceType | Topic            |
| Name         | _confluent       |
| PatternType  | PREFIXED         |
+--------------+------------------+
+--------------+--------------------+
| Principal    | User:connectorSA   |
| Role         | ResourceOwner      |
| ResourceType | Group              |
| Name         | connect-replicator |
| PatternType  | LITERAL            |
+--------------+--------------------+
Creating role bindings for elasticsearch-ksqldb connector
+--------------+-------------------------+
| Principal    | User:connectorSubmitter |
| Role         | ResourceOwner           |
| ResourceType | Connector               |
| Name         | elasticsearch-ksqldb    |
| PatternType  | LITERAL                 |
+--------------+-------------------------+
+--------------+------------------------------+
| Principal    | User:connectorSA             |
| Role         | ResourceOwner                |
| ResourceType | Group                        |
| Name         | connect-elasticsearch-ksqldb |
| PatternType  | LITERAL                      |
+--------------+------------------------------+
+--------------+------------------+
| Principal    | User:connectorSA |
| Role         | ResourceOwner    |
| ResourceType | Topic            |
| Name         | WIKIPEDIA        |
| PatternType  | PREFIXED         |
+--------------+------------------+
+--------------+------------------+
| Principal    | User:connectorSA |
| Role         | ResourceOwner    |
| ResourceType | Subject          |
| Name         | WIKIPEDIA        |
| PatternType  | PREFIXED         |
+--------------+------------------+
Creating role bindings for ksqlDB Admin
+--------------+------------------+
| Principal    | User:ksqlDBAdmin |
| Role         | ResourceOwner    |
| ResourceType | KsqlCluster      |
| Name         | ksql-cluster     |
| PatternType  | LITERAL          |
+--------------+------------------+
+--------------+------------------------------+
| Principal    | User:ksqlDBAdmin             |
| Role         | DeveloperRead                |
| ResourceType | Group                        |
| Name         | _confluent-ksql-ksql-cluster |
| PatternType  | PREFIXED                     |
+--------------+------------------------------+
+--------------+------------------------------+
| Principal    | User:ksqlDBAdmin             |
| Role         | ResourceOwner                |
| ResourceType | Topic                        |
| Name         | _confluent-ksql-ksql-cluster |
| PatternType  | PREFIXED                     |
+--------------+------------------------------+
+--------------+------------------------------+
| Principal    | User:ksqlDBAdmin             |
| Role         | ResourceOwner                |
| ResourceType | Subject                      |
| Name         | _confluent-ksql-ksql-cluster |
| PatternType  | PREFIXED                     |
+--------------+------------------------------+
+--------------+-----------------------+
| Principal    | User:ksqlDBAdmin      |
| Role         | ResourceOwner         |
| ResourceType | Topic                 |
| Name         | _confluent-monitoring |
| PatternType  | LITERAL               |
+--------------+-----------------------+
+--------------+---------------------------------+
| Principal    | User:ksqlDBAdmin                |
| Role         | ResourceOwner                   |
| ResourceType | Topic                           |
| Name         | ksql-clusterksql_processing_log |
| PatternType  | LITERAL                         |
+--------------+---------------------------------+
+--------------+------------------+
| Principal    | User:ksqlDBAdmin |
| Role         | DeveloperRead    |
| ResourceType | Topic            |
| Name         | wikipedia.parsed |
| PatternType  | LITERAL          |
+--------------+------------------+
+--------------+------------------+
| Principal    | User:ksqlDBAdmin |
| Role         | ResourceOwner    |
| ResourceType | Topic            |
| Name         | WIKIPEDIA        |
| PatternType  | PREFIXED         |
+--------------+------------------+
+--------------+------------------+
| Principal    | User:ksqlDBAdmin |
| Role         | ResourceOwner    |
| ResourceType | TransactionalId  |
| Name         | ksql-cluster     |
| PatternType  | LITERAL          |
+--------------+------------------+
+--------------+------------------+
| Principal    | User:ksqlDBAdmin |
| Role         | ResourceOwner    |
| ResourceType | Subject          |
| Name         | wikipedia        |
| PatternType  | PREFIXED         |
+--------------+------------------+
+--------------+------------------+
| Principal    | User:ksqlDBAdmin |
| Role         | ResourceOwner    |
| ResourceType | Subject          |
| Name         | WIKIPEDIA        |
| PatternType  | PREFIXED         |
+--------------+------------------+
+--------------+------------------+
| Principal    | User:ksqlDBAdmin |
| Role         | ResourceOwner    |
| ResourceType | Subject          |
| Name         | WIKIPEDIA        |
| PatternType  | PREFIXED         |
+--------------+------------------+
+--------------+------------------+
| Principal    | User:ksqlDBAdmin |
| Role         | DeveloperWrite   |
| ResourceType | Cluster          |
| Name         | kafka-cluster    |
| PatternType  | LITERAL          |
+--------------+------------------+
Creating role bindings for ksqlDB User
+--------------+-----------------+
| Principal    | User:ksqlDBUser |
| Role         | DeveloperWrite  |
| ResourceType | KsqlCluster     |
| Name         | ksql-cluster    |
| PatternType  | LITERAL         |
+--------------+-----------------+
+--------------+------------------------------+
| Principal    | User:ksqlDBUser              |
| Role         | DeveloperRead                |
| ResourceType | Group                        |
| Name         | _confluent-ksql-ksql-cluster |
| PatternType  | PREFIXED                     |
+--------------+------------------------------+
+--------------+------------------------------+
| Principal    | User:ksqlDBUser              |
| Role         | ResourceOwner                |
| ResourceType | Topic                        |
| Name         | _confluent-ksql-ksql-cluster |
| PatternType  | PREFIXED                     |
+--------------+------------------------------+
+--------------+------------------------------+
| Principal    | User:ksqlDBUser              |
| Role         | ResourceOwner                |
| ResourceType | Subject                      |
| Name         | _confluent-ksql-ksql-cluster |
| PatternType  | PREFIXED                     |
+--------------+------------------------------+
+--------------+---------------------------------+
| Principal    | User:ksqlDBUser                 |
| Role         | DeveloperRead                   |
| ResourceType | Topic                           |
| Name         | ksql-clusterksql_processing_log |
| PatternType  | LITERAL                         |
+--------------+---------------------------------+
+--------------+------------------+
| Principal    | User:ksqlDBUser  |
| Role         | DeveloperRead    |
| ResourceType | Topic            |
| Name         | wikipedia.parsed |
| PatternType  | LITERAL          |
+--------------+------------------+
+--------------+-----------------+
| Principal    | User:ksqlDBUser |
| Role         | ResourceOwner   |
| ResourceType | Subject         |
| Name         | wikipedia       |
| PatternType  | PREFIXED        |
+--------------+-----------------+
+--------------+-----------------+
| Principal    | User:ksqlDBUser |
| Role         | ResourceOwner   |
| ResourceType | Topic           |
| Name         | WIKIPEDIA       |
| PatternType  | PREFIXED        |
+--------------+-----------------+
+--------------+-----------------+
| Principal    | User:ksqlDBUser |
| Role         | ResourceOwner   |
| ResourceType | Subject         |
| Name         | WIKIPEDIA       |
| PatternType  | PREFIXED        |
+--------------+-----------------+
+--------------+-----------------+
| Principal    | User:ksqlDBUser |
| Role         | DeveloperWrite  |
| ResourceType | Cluster         |
| Name         | kafka-cluster   |
| PatternType  | LITERAL         |
+--------------+-----------------+
Creating role bindings for ksqlDB Server (used for ksqlDB Processing Log)
+--------------+-----------------------------------+
| Principal    | User:controlCenterAndKsqlDBServer |
| Role         | ResourceOwner                     |
| ResourceType | Topic                             |
| Name         | ksql-clusterksql_processing_log   |
| PatternType  | LITERAL                           |
+--------------+-----------------------------------+
Creating role bindings for Control Center
+--------------+-------------------------+
| Principal    | User:controlcenterAdmin |
| Role         | SystemAdmin             |
| ResourceType | Cluster                 |
+--------------+-------------------------+
Creating role bindings for Rest Proxy
+--------------+--------------------+
| Principal    | User:restAdmin     |
| Role         | DeveloperRead      |
| ResourceType | Topic              |
| Name         | _confluent-license |
| PatternType  | LITERAL            |
+--------------+--------------------+
+--------------+--------------------+
| Principal    | User:restAdmin     |
| Role         | DeveloperWrite     |
| ResourceType | Topic              |
| Name         | _confluent-license |
| PatternType  | LITERAL            |
+--------------+--------------------+
Creating role bindings for the streams-demo application
+--------------+---------------+
| Principal    | User:appSA    |
| Role         | ResourceOwner |
| ResourceType | Group         |
| Name         | wikipedia     |
| PatternType  | PREFIXED      |
+--------------+---------------+
+--------------+---------------+
| Principal    | User:appSA    |
| Role         | ResourceOwner |
| ResourceType | Group         |
| Name         | app           |
| PatternType  | PREFIXED      |
+--------------+---------------+
+--------------+---------------+
| Principal    | User:appSA    |
| Role         | ResourceOwner |
| ResourceType | Topic         |
| Name         | wikipedia     |
| PatternType  | PREFIXED      |
+--------------+---------------+
+--------------+---------------+
| Principal    | User:appSA    |
| Role         | ResourceOwner |
| ResourceType | Topic         |
| Name         | users         |
| PatternType  | LITERAL       |
+--------------+---------------+
+--------------+-----------------------+
| Principal    | User:appSA            |
| Role         | ResourceOwner         |
| ResourceType | Topic                 |
| Name         | _confluent-monitoring |
| PatternType  | LITERAL               |
+--------------+-----------------------+
+--------------+---------------+
| Principal    | User:appSA    |
| Role         | ResourceOwner |
| ResourceType | Subject       |
| Name         | wikipedia     |
| PatternType  | PREFIXED      |
+--------------+---------------+
Creating role bindings for the listen client application
+--------------+-------------------+
| Principal    | User:clientListen |
| Role         | ResourceOwner     |
| ResourceType | Group             |
| Name         | listen-consumer   |
| PatternType  | PREFIXED          |
+--------------+-------------------+
+--------------+-------------------+
| Principal    | User:clientListen |
| Role         | ResourceOwner     |
| ResourceType | Topic             |
| Name         | wikipedia         |
| PatternType  | PREFIXED          |
+--------------+-------------------+
+--------------+-------------------+
| Principal    | User:clientListen |
| Role         | ResourceOwner     |
| ResourceType | Topic             |
| Name         | WIKIPEDIA         |
| PatternType  | PREFIXED          |
+--------------+-------------------+
+--------------+-------------------+
| Principal    | User:clientListen |
| Role         | ResourceOwner     |
| ResourceType | Subject           |
| Name         | wikipedia         |
| PatternType  | PREFIXED          |
+--------------+-------------------+
+--------------+-------------------+
| Principal    | User:clientListen |
| Role         | ResourceOwner     |
| ResourceType | Subject           |
| Name         | WIKIPEDIA         |
| PatternType  | PREFIXED          |
+--------------+-------------------+
Cluster IDs:
    kafka cluster id: rtTJ8CpZQTaTFClkdAYteA
    connect cluster id: connect-cluster
    schema registry cluster id: schema-registry
    ksql cluster id: ksql-cluster

Cluster IDs as environment variables:
    export KAFKA_ID=rtTJ8CpZQTaTFClkdAYteA ; export CONNECT_ID=connect-cluster ; export SR_ID=schema-registry ; export KSQLDB_ID=ksql-cluster

Principals:
    super user account: User:superUser
    Schema Registry user: User:schemaregistryUser
    Connect Admin: User:connectAdmin
    Connector Submitter: User:connectorSubmitter
    Connector Principal: User:connectorSA
    ksqlDB Admin: User:ksqlDBAdmin
    ksqlDB User: User:ksqlDBUser
    ksqlDB Server: User:controlCenterAndKsqlDBServer
    C3 Admin: User:controlcenterAdmin
    Rest Admin: User:restAdmin
    Client service account: User:appSA
    Listen Client service account: User:clientListen

Completed updating config for topic _confluent-metadata-auth.

Building custom Docker image with Connect version 6.1.1 and connector version 6.1.1
docker build --build-arg CP_VERSION=6.1.1 --build-arg REPOSITORY=confluentinc -t localbuild/connect:6.1.1-6.1.1 -f /Users/balakumarbalasundaram/Documents/publicrepo/cp-demo/scripts/helper/../../Dockerfile /Users/balakumarbalasundaram/Documents/publicrepo/cp-demo/scripts/helper/../../.
[+] Building 25.8s (5/11)                                                                                                                                                                                                                                     
 => [internal] load build definition from Dockerfile                                                                                                                                                                                                     0.0s
 => => transferring dockerfile: 1.51kB                                                                                                                                                                                                                   0.0s
 => [internal] load .dockerignore                                                                                                                                                                                                                        0.0s
 => => transferring context: 63B                                                                                                                                                                                                                         0.0s
 => [internal] load metadata for docker.io/confluentinc/cp-enterprise-replicator:6.1.1                                                                                                                                                                   2.4s
 => [auth] confluentinc/cp-enterprise-replicator:pull token for registry-1.docker.io                                                                                                                                                                     0.0s
 => [internal] load build context                                                                                                                                                                                                                        0.0s
 => => transferring context: 1.08kB                                                                                                                                                                                                                      0.0s
 => [1/6] FROM docker.io/confluentinc/cp-enterprise-replicator:6.1.1@sha256:26f8f5a39d5f4c654cefe09a04adcfcc499b4aaa673a8715a05ef1b2b1761a63                                                                                                            23.4s
 => => resolve docker.io/confluentinc/cp-enterprise-replicator:6.1.1@sha256:26f8f5a39d5f4c654cefe09a04adcfcc499b4aaa673a8715a05ef1b2b1761a63                                                                                                             0.0s
 => => sha256:f2ed539fc6bcfeee14c9ffb8ccbe2517788eef3b088cec0b8789cd1842006fbc 82.84MB / 187.86MB                                                                                                                                                       23.3s
 => => sha256:26f8f5a39d5f4c654cefe09a04adcfcc499b4aaa673a8715a05ef1b2b1761a63 3.26kB / 3.26kB                                                                                                                                                  [+] Building 26.0s (5/11)                                                                                                                                                                                                                                                                                                        => [internal] load build definition from Dockerfile                                                                                                                                                                                                     0.0s                                                                    => => transferring dockerfile: 1.51kB                                                                                                                                                                                                                   0.0s                                                                    => [internal] load .dockerignore                                                                                                                                                                                                                        0.0s                                                                    => => transferring context: 63B                                                                                                                                                                                                                         0.0s
[+] Building 104.9s (12/12) FINISHED                                                                                                                                                                                                                          
 => [internal] load build definition from Dockerfile                                                                                                                                                                                                     0.0s
 => => transferring dockerfile: 1.51kB                                                                                                                                                                                                                   0.0s
 => [internal] load .dockerignore                                                                                                                                                                                                                        0.0s
 => => transferring context: 63B                                                                                                                                                                                                                         0.0s
 => [internal] load metadata for docker.io/confluentinc/cp-enterprise-replicator:6.1.1                                                                                                                                                                   2.4s
 => [auth] confluentinc/cp-enterprise-replicator:pull token for registry-1.docker.io                                                                                                                                                                     0.0s
 => [internal] load build context                                                                                                                                                                                                                        0.0s3 => => transferring context: 1.08kB                                                                                                                                                                                                                      0.0s
 => [1/6] FROM docker.io/confluentinc/cp-enterprise-replicator:6.1.1@sha256:26f8f5a39d5f4c654cefe09a04adcfcc499b4aaa673a8715a05ef1b2b1761a63                                                                                                            84.4se => => resolve docker.io/confluentinc/cp-enterprise-replicator:6.1.1@sha256:26f8f5a39d5f4c654cefe09a04adcfcc499b4aaa673a8715a05ef1b2b1761a63                                                                                                             0.0s
 => => sha256:f2ed539fc6bcfeee14c9ffb8ccbe2517788eef3b088cec0b8789cd1842006fbc 187.86MB / 187.86MB                                                                                                                                                      47.2se => => sha256:26f8f5a39d5f4c654cefe09a04adcfcc499b4aaa673a8715a05ef1b2b1761a63 3.26kB / 3.26kB                                                                                                                                                           0.0s
 => => sha256:a1ee932fe148e5308268462729d4529d9de10db204acf26d95b4f5b891446179 24.64kB / 24.64kB                                                                                                                                                         0.0s: => => sha256:b1a09a9cbdb23c61f6560bad28f8d7cb26f8a9ac0aba085e3c7dc19808715b7b 395.70MB / 395.70MB                                                                                                                                                      73.9s
 => => sha256:7eec741d4e9b6a3ae50af527aaab52623db27b099e58128594a7e201013c866a 2.80kB / 2.80kB                                                                                                                                                           0.5s: => => sha256:3e39b14bd5413fe309627ccbd45a9d7cf91a5159a5abf96558e002d77cb84ed8 2.92kB / 2.92kB                                                                                                                                                           0.8s
 => => extracting sha256:b1a09a9cbdb23c61f6560bad28f8d7cb26f8a9ac0aba085e3c7dc19808715b7b                                                                                                                                                                6.6s
 => => extracting sha256:7eec741d4e9b6a3ae50af527aaab52623db27b099e58128594a7e201013c866a                                                                                                                                                                0.0s
 => => extracting sha256:f2ed539fc6bcfeee14c9ffb8ccbe2517788eef3b088cec0b8789cd1842006fbc                                                                                                                                                                3.4s
 => => extracting sha256:3e39b14bd5413fe309627ccbd45a9d7cf91a5159a5abf96558e002d77cb84ed8                                                                                                                                                                0.0s
 => [2/6] RUN confluent-hub install --no-prompt cjmatta/kafka-connect-sse:1.0                                                                                                                                                                            5.9s
 => [3/6] RUN confluent-hub install --no-prompt jcustenborder/kafka-connect-json-schema:0.2.5                                                                                                                                                            3.9s
 => [4/6] RUN confluent-hub install --no-prompt confluentinc/kafka-connect-elasticsearch:11.0.0                                                                                                                                                          7.5s 
 => [5/6] COPY scripts/security/kafka.connect.truststore.jks /tmp/kafka.connect.truststore.jks                                                                                                                                                           0.0s 
 => [6/6] RUN keytool -importkeystore -srckeystore /usr/lib/jvm/zulu11-ca/lib/security/cacerts -srcstorepass changeit -destkeystore /tmp/kafka.connect.truststore.jks -deststorepass confluent -keypass confluent                                        0.6s 
 => exporting to image                                                                                                                                                                                                                                   0.1s 
 => => exporting layers                                                                                                                                                                                                                                  0.1s 
 => => writing image sha256:5f5b58944ac67843fec3cbe398d5a25df68d115e7983a08f73f8092d9f281909                                                                                                                                                             0.0s 
 => => naming to docker.io/localbuild/connect:6.1.1-6.1.1                                                                                                                                                                                                0.0s
abe914a633d1d842a07a64ee4677ab01404be48b945df3aaa27a0242ecc6af24
cp-demo-tmp-connect
Pulling schemaregistry (confluentinc/cp-schema-registry:6.1.1)...
6.1.1: Pulling from confluentinc/cp-schema-registry
a591faa84ab0: Already exists
76b9354adec6: Already exists
6b3439ed91d1: Already exists
3982704de0ba: Already exists
da427b0480a6: Already exists
c2e6fb0cc202: Already exists
a5c791180795: Already exists
3953961f55cd: Already exists
771bef4eaf9d: Pull complete
747197e5c2a0: Pull complete
Digest: sha256:5cda89e9c506e430b45fc45ee8435385b9ab118b2a6e44231f5ece5197fa5568
Status: Downloaded newer image for confluentinc/cp-schema-registry:6.1.1
Pulling control-center (confluentinc/cp-enterprise-control-center:6.1.1)...
6.1.1: Pulling from confluentinc/cp-enterprise-control-center
a591faa84ab0: Already exists
76b9354adec6: Already exists
6b3439ed91d1: Already exists
3982704de0ba: Already exists
da427b0480a6: Already exists
c2e6fb0cc202: Already exists
a5c791180795: Already exists
3953961f55cd: Already exists
0f0c60f36f0f: Pull complete
1848151c1e38: Pull complete
Digest: sha256:1b1df56511c3efd23a1b8ba21937a5dc0ba47cc2bbc1cedc21d50f7cf83add42
Status: Downloaded newer image for confluentinc/cp-enterprise-control-center:6.1.1
openldap is up-to-date
zookeeper is up-to-date
kafka2 is up-to-date
kafka1 is up-to-date
Creating schemaregistry ... done
Creating connect        ... done
Creating control-center ... done

Create topics in Kafka cluster:
Created topic users
Created topic wikipedia.parsed
Created topic wikipedia.parsed.count-by-domain
Created topic wikipedia.failed
Created topic WIKIPEDIABOT
Created topic WIKIPEDIANOBOT
Created topic WIKIPEDIA_COUNT_GT_1

Waiting up to 300 seconds for Confluent Control Center to start
.....âœ” 


Confluent Control Center modifications:

Rename the cluster in Control Center from rtTJ8CpZQTaTFClkdAYteA to Kafka Raleigh

Configure triggers and actions in Control Center:
{"guid":"169612dd-0030-4d8c-813d-88aec03fd69b","name":"Consumption Difference","clusterId":"rtTJ8CpZQTaTFClkdAYteA","group":"connect-elasticsearch-ksqldb","metric":"CONSUMPTION_DIFF","condition":"GREATER_THAN","longValue":"0","lagMs":"10000"}{"guid":"58901b4f-b90a-4ffd-bbe5-5096b2ee8824","name":"Under Replicated Partitions","clusterId":"default","condition":"GREATER_THAN","longValue":"0","lagMs":"60000","brokerClusters":{"brokerClusters":["rtTJ8CpZQTaTFClkdAYteA"]},"brokerMetric":"UNDER_REPLICATED_TOPIC_PARTITIONS"}{"guid":"7e9d00ef-8e8a-479c-9eed-71510dc64c7c","name":"Email Administrator","enabled":true,"triggerGuid":["169612dd-0030-4d8c-813d-88aec03fd69b","58901b4f-b90a-4ffd-bbe5-5096b2ee8824"],"maxSendRate":1,"intervalMs":"60000","email":{"address":"devnull@confluent.io","subject":"Confluent Control Center alert"}}

Waiting up to 240 seconds for Connect to start
.âœ” 


Pulling ksqldb-server (confluentinc/cp-ksqldb-server:6.1.1)...
6.1.1: Pulling from confluentinc/cp-ksqldb-server
a591faa84ab0: Already exists
76b9354adec6: Already exists
6b3439ed91d1: Already exists
3982704de0ba: Already exists
da427b0480a6: Already exists
c2e6fb0cc202: Already exists
a5c791180795: Already exists
3953961f55cd: Already exists
f35ca7596a97: Pull complete
a2ffe777175d: Pull complete
bb370b61b93f: Pull complete
e081d7f2913d: Pull complete
eda5c833fa24: Pull complete
734870934057: Pull complete
bdefe0895ccc: Pull complete
3e9f8d90a058: Pull complete
3009e3e8ae26: Pull complete
e211b6121c33: Pull complete
d6de65822fcf: Pull complete
942919a7c3bf: Pull complete
Digest: sha256:501bfe4812f5eedc9f3198c3bde4943630c79bbf12602c34b6c15c9710a44a7f
Status: Downloaded newer image for confluentinc/cp-ksqldb-server:6.1.1
Pulling ksqldb-cli (confluentinc/cp-ksqldb-cli:6.1.1)...
6.1.1: Pulling from confluentinc/cp-ksqldb-cli
a591faa84ab0: Already exists
76b9354adec6: Already exists
6b3439ed91d1: Already exists
3982704de0ba: Already exists
da427b0480a6: Already exists
c2e6fb0cc202: Already exists
a5c791180795: Already exists
3953961f55cd: Already exists
984a4d9baca7: Pull complete
e835cec7e558: Pull complete
19e08d02a947: Pull complete
558c0cfcd709: Pull complete
b3ea7a51b268: Pull complete
998c63bf43a4: Pull complete
0f7ef8461962: Pull complete
5b5919f8a286: Pull complete
Digest: sha256:4514a227146608fc9c435616c90000127c9f6bac67542ae18c7297232626c7b8
Status: Downloaded newer image for confluentinc/cp-ksqldb-cli:6.1.1
Pulling restproxy (confluentinc/cp-kafka-rest:6.1.1)...
6.1.1: Pulling from confluentinc/cp-kafka-rest
a591faa84ab0: Already exists
76b9354adec6: Already exists
6b3439ed91d1: Already exists
3982704de0ba: Already exists
da427b0480a6: Already exists
c2e6fb0cc202: Already exists
a5c791180795: Already exists
3953961f55cd: Already exists
a95b66b13809: Pull complete
dcbb85629d65: Pull complete
Digest: sha256:ec189287e7f6d898aa23e723c927a83d2fe36a16e35090a279852d8eefc4d955
Status: Downloaded newer image for confluentinc/cp-kafka-rest:6.1.1
openldap is up-to-date
zookeeper is up-to-date
kafka2 is up-to-date
kafka1 is up-to-date
schemaregistry is up-to-date
connect is up-to-date
Creating ksqldb-server ... done
Creating restproxy     ... done
Creating ksqldb-cli    ... done
...

Start streaming from the Wikipedia SSE source connector:
{"name":"wikipedia-sse","config":{"connector.class":"com.github.cjmatta.kafka.connect.sse.ServerSentEventsSourceConnector","sse.uri":"https://stream.wikimedia.org/v2/stream/recentchange","topic":"wikipedia.parsed","transforms":"extractData, parseJSON","transforms.extractData.type":"org.apache.kafka.connect.transforms.ExtractField$Value","transforms.extractData.field":"data","transforms.parseJSON.type":"com.github.jcustenborder.kafka.connect.json.FromJson$Value","transforms.parseJSON.json.exclude.locations":"#/properties/log_params,#/properties/$schema,#/$schema","transforms.parseJSON.json.schema.location":"Url","transforms.parseJSON.json.schema.url":"https://raw.githubusercontent.com/wikimedia/mediawiki-event-schemas/master/jsonschema/mediawiki/recentchange/1.0.0.json","transforms.parseJSON.json.schema.validation.enabled":"false","producer.interceptor.classes":"io.confluent.monitoring.clients.interceptor.MonitoringProducerInterceptor","value.converter":"io.confluent.connect.avro.AvroConverter","value.converter.schema.registry.url":"https://schemaregistry:8085","value.converter.schema.registry.ssl.truststore.location":"/etc/kafka/secrets/kafka.client.truststore.jks","value.converter.schema.registry.ssl.truststore.password":"confluent","value.converter.basic.auth.credentials.source":"USER_INFO","value.converter.basic.auth.user.info":"connectorSA:connectorSA","producer.override.sasl.jaas.config":"org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required username=\"connectorSA\" password=\"connectorSA\" metadataServerUrls=\"https://kafka1:8091,https://kafka2:8092\";","tasks.max":"1","name":"wikipedia-sse"},"tasks":[],"type":"source"}
Waiting up to 120 seconds for connector to be in RUNNING state
âœ” 


Waiting up to 120 seconds for subject wikipedia.parsed-value (for topic wikipedia.parsed) to be registered in Schema Registry
.âœ” 


Register subject wikipedia.parsed.replica-value in Schema Registry
{"id":1}

Start Confluent Replicator to loopback to on-prem cluster:
{"name":"replicate-topic","config":{"connector.class":"io.confluent.connect.replicator.ReplicatorSourceConnector","topic.whitelist":"wikipedia.parsed","topic.rename.format":"${topic}.replica","key.converter":"io.confluent.connect.replicator.util.ByteArrayConverter","value.converter":"io.confluent.connect.replicator.util.ByteArrayConverter","dest.kafka.bootstrap.servers":"kafka1:10091","dest.kafka.security.protocol":"SASL_SSL","dest.kafka.ssl.key.password":"confluent","dest.kafka.ssl.truststore.location":"/etc/kafka/secrets/kafka.client.truststore.jks","dest.kafka.ssl.truststore.password":"confluent","dest.kafka.ssl.keystore.location":"/etc/kafka/secrets/kafka.client.keystore.jks","dest.kafka.ssl.keystore.password":"confluent","dest.kafka.sasl.login.callback.handler.class":"io.confluent.kafka.clients.plugins.auth.token.TokenUserLoginCallbackHandler","dest.kafka.sasl.jaas.config":"org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required username=\"connectorSA\" password=\"connectorSA\" metadataServerUrls=\"https://kafka1:8091,https://kafka2:8092\";","dest.kafka.sasl.mechanism":"OAUTHBEARER","confluent.topic.replication.factor":"1","src.kafka.bootstrap.servers":"kafka1:10091","src.kafka.security.protocol":"SASL_SSL","src.kafka.ssl.key.password":"confluent","src.kafka.ssl.truststore.location":"/etc/kafka/secrets/kafka.client.truststore.jks","src.kafka.ssl.truststore.password":"confluent","src.kafka.ssl.keystore.location":"/etc/kafka/secrets/kafka.client.keystore.jks","src.kafka.ssl.keystore.password":"confluent","src.kafka.sasl.login.callback.handler.class":"io.confluent.kafka.clients.plugins.auth.token.TokenUserLoginCallbackHandler","src.kafka.sasl.jaas.config":"org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required username=\"connectorSA\" password=\"connectorSA\" metadataServerUrls=\"https://kafka1:8091,https://kafka2:8092\";","src.kafka.sasl.mechanism":"OAUTHBEARER","src.consumer.interceptor.classes":"io.confluent.monitoring.clients.interceptor.MonitoringConsumerInterceptor","src.consumer.confluent.monitoring.interceptor.security.protocol":"SASL_SSL","src.consumer.confluent.monitoring.interceptor.bootstrap.servers":"kafka1:10091","src.consumer.confluent.monitoring.interceptor.ssl.key.password":"confluent","src.consumer.confluent.monitoring.interceptor.ssl.truststore.location":"/etc/kafka/secrets/kafka.client.truststore.jks","src.consumer.confluent.monitoring.interceptor.ssl.truststore.password":"confluent","src.consumer.confluent.monitoring.interceptor.ssl.keystore.location":"/etc/kafka/secrets/kafka.client.keystore.jks","src.consumer.confluent.monitoring.interceptor.ssl.keystore.password":"confluent","src.consumer.confluent.monitoring.interceptor.sasl.login.callback.handler.class":"io.confluent.kafka.clients.plugins.auth.token.TokenUserLoginCallbackHandler","src.consumer.confluent.monitoring.interceptor.sasl.jaas.config":"org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required username=\"connectorSA\" password=\"connectorSA\" metadataServerUrls=\"https://kafka1:8091,https://kafka2:8092\";","src.consumer.confluent.monitoring.interceptor.sasl.mechanism":"OAUTHBEARER","src.consumer.group.id":"connect-replicator","src.kafka.timestamps.producer.interceptor.classes":"io.confluent.monitoring.clients.interceptor.MonitoringProducerInterceptor","src.kafka.timestamps.producer.confluent.monitoring.interceptor.security.protocol":"SASL_SSL","src.kafka.timestamps.producer.confluent.monitoring.interceptor.bootstrap.servers":"kafka1:10091","src.kafka.timestamps.producer.confluent.monitoring.interceptor.ssl.key.password":"confluent","src.kafka.timestamps.producer.confluent.monitoring.interceptor.ssl.truststore.location":"/etc/kafka/secrets/kafka.client.truststore.jks","src.kafka.timestamps.producer.confluent.monitoring.interceptor.ssl.truststore.password":"confluent","src.kafka.timestamps.producer.confluent.monitoring.interceptor.ssl.keystore.location":"/etc/kafka/secrets/kafka.client.keystore.jks","src.kafka.timestamps.producer.confluent.monitoring.interceptor.ssl.keystore.password":"confluent","src.kafka.timestamps.producer.confluent.monitoring.interceptor.sasl.login.callback.handler.class":"io.confluent.kafka.clients.plugins.auth.token.TokenUserLoginCallbackHandler","src.kafka.timestamps.producer.confluent.monitoring.interceptor.sasl.jaas.config":"org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required username=\"connectorSA\" password=\"connectorSA\" metadataServerUrls=\"https://kafka1:8091,https://kafka2:8092\";","src.kafka.timestamps.producer.confluent.monitoring.interceptor.sasl.mechanism":"OAUTHBEARER","offset.timestamps.commit":"false","producer.override.sasl.jaas.config":"org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required username=\"connectorSA\" password=\"connectorSA\" metadataServerUrls=\"https://kafka1:8091,https://kafka2:8092\";","consumer.override.sasl.jaas.config":"org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required username=\"connectorSA\" password=\"connectorSA\" metadataServerUrls=\"https://kafka1:8091,https://kafka2:8092\";","tasks.max":"1","provenance.header.enable":"false","name":"replicate-topic"},"tasks":[],"type":"source"}


Waiting up to 120 seconds for ksqlDB server to start
.âœ” 


Run ksqlDB queries:
OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
Apr 05, 2021 8:28:04 PM org.jline.utils.Log logr
WARNING: Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)
ksqlDB, Copyright 2017-2020 Confluent Inc.

CLI v6.1.1, Server v6.1.1 located at http://ksqldb-server:8088
Server Status: RUNNING

Having trouble? Type 'help' (case-insensitive) for a rundown of how things work!

ksql> 
CREATE STREAM WIKIPEDIA (BOT BOOLEAN, COMMENT STRING, ID BIGINT, LENGTH STRUCT<NEW BIGINT, OLD BIGINT>, LOG_ACTION STRING, LOG_ACTION_COMMENT STRING, LOG_ID BIGINT, LOG_TYPE STRING, META STRUCT<DOMAIN STRING, DT BIGINT, ID STRING, REQUEST_ID STRING, `STREAM` STRING, URI STRING>, MINOR BOOLEAN, `NAMESPACE` BIGINT, PARSEDCOMMENT STRING, PATROLLED BOOLEAN, REVISION STRUCT<NEW BIGINT, OLD BIGINT>, SERVER_NAME STRING, SERVER_SCRIPT_PATH STRING, SERVER_URL STRING, TIMESTAMP BIGINT, TITLE STRING, TYPE STRING, USER STRING, WIKI STRING) WITH (KAFKA_TOPIC='wikipedia.parsed', KEY_FORMAT='KAFKA', VALUE_FORMAT='AVRO', VALUE_SCHEMA_ID=1);
 Message        

 Stream created 


CREATE STREAM WIKIPEDIANOBOT WITH (KAFKA_TOPIC='WIKIPEDIANOBOT', PARTITIONS=2, REPLICAS=2) AS SELECT
  *,
  (WIKIPEDIA.LENGTH->NEW - WIKIPEDIA.LENGTH->OLD) BYTECHANGE
FROM WIKIPEDIA WIKIPEDIA
WHERE ((((WIKIPEDIA.BOT = false) AND (WIKIPEDIA.LENGTH IS NOT NULL)) AND (WIKIPEDIA.LENGTH->NEW IS NOT NULL)) AND (WIKIPEDIA.LENGTH->OLD IS NOT NULL))
EMIT CHANGES;
 Message                                     

 Created query with ID CSAS_WIKIPEDIANOBOT_3 


CREATE STREAM WIKIPEDIABOT WITH (KAFKA_TOPIC='WIKIPEDIABOT', PARTITIONS=2, REPLICAS=2) AS SELECT
  *,
  (WIKIPEDIA.LENGTH->NEW - WIKIPEDIA.LENGTH->OLD) BYTECHANGE
FROM WIKIPEDIA WIKIPEDIA
WHERE ((((WIKIPEDIA.BOT = true) AND (WIKIPEDIA.LENGTH IS NOT NULL)) AND (WIKIPEDIA.LENGTH->NEW IS NOT NULL)) AND (WIKIPEDIA.LENGTH->OLD IS NOT NULL))
EMIT CHANGES;
 Message                                   

 Created query with ID CSAS_WIKIPEDIABOT_5 


CREATE TABLE WIKIPEDIA_COUNT_GT_1 WITH (KAFKA_TOPIC='WIKIPEDIA_COUNT_GT_1', PARTITIONS=2, REPLICAS=2) AS SELECT
  WIKIPEDIA.USER USER,
  WIKIPEDIA.META->URI URI,
  COUNT(*) COUNT
FROM WIKIPEDIA WIKIPEDIA
WINDOW TUMBLING ( SIZE 300 SECONDS ) 
WHERE (WIKIPEDIA.META->DOMAIN = 'commons.wikimedia.org')
GROUP BY WIKIPEDIA.USER, WIKIPEDIA.META->URI
HAVING (COUNT(*) > 1)
EMIT CHANGES;
 Message                                           

 Created query with ID CTAS_WIKIPEDIA_COUNT_GT_1_7 

ksql> Exiting ksqlDB.

Start additional consumers to read from topics WIKIPEDIANOBOT, WIKIPEDIA_COUNT_GT_1


Start the Kafka Streams application wikipedia-activity-monitor
Pulling streams-demo (cnfldemos/cp-demo-kstreams:0.0.9)...
0.0.9: Pulling from cnfldemos/cp-demo-kstreams
0fd3b5213a9b: Pull complete
aebb8c556853: Pull complete
26341bb17443: Pull complete
8ab20c8700d3: Pull complete
17e1da24ed1a: Pull complete
9e055a7e3738: Pull complete
1196310019b5: Pull complete
cdf3bbfe2079: Pull complete
2fd7e06e57aa: Pull complete
5aaf5953f666: Pull complete
805b0a91d13d: Pull complete
8b4b52575e9b: Pull complete
834928a4e962: Pull complete
15554ff498a4: Pull complete
Digest: sha256:ddf4a3960d3d9c34fd41713f0baa391408ddfdd88c0552fc9c15b9a5c890d1b5
Status: Downloaded newer image for cnfldemos/cp-demo-kstreams:0.0.9
openldap is up-to-date
zookeeper is up-to-date
kafka2 is up-to-date
kafka1 is up-to-date
schemaregistry is up-to-date
connect is up-to-date
Creating streams-demo ... done
...


Available LDAP users:
"Group:KafkaDevelopers"
"User:alice"
"User:appSA"
"User:badApp"
"User:barnie"
"User:charlie"
"User:clientListen"
"User:connectAdmin"
"User:connectorSA"
"User:connectorSubmitter"
"User:controlcenterAdmin"
"User:ksqlDBAdmin"
"User:ksqlDBUser"
"User:mds"
"User:restAdmin"
"User:schemaregistryUser"
"User:superUser"


----------------------------------------------------------------------------------------------------
DONE! From your browser:

  Confluent Control Center (login superUser/superUser for full access):
     http://localhost:9021

Want more? Learn how to replicate data from the on-prem cluster to Confluent Cloud:

     https://docs.confluent.io/platform/current/tutorials/cp-demo/docs/hybrid-cloud.html

Use Confluent Cloud promo code CPDEMO50 to receive $50 free usage
----------------------------------------------------------------------------------------------------

balakumarbalasundaram@Balakumars-MBP cp-demo % docker ps
CONTAINER ID   IMAGE                                             COMMAND                  CREATED          STATUS          PORTS                                                                                                                                    NAMES
9b18852fb6c8   cnfldemos/cp-demo-kstreams:0.0.9                  "/app/start.sh"          2 minutes ago    Up 2 minutes    9092/tcp                                                                                                                                 streams-demo
603bb7ff7820   confluentinc/cp-ksqldb-cli:6.1.1                  "/bin/sh"                4 minutes ago    Up 4 minutes                                                                                                                                             ksqldb-cli
2c88299abed1   confluentinc/cp-kafka-rest:6.1.1                  "/etc/confluent/dockâ€¦"   4 minutes ago    Up 4 minutes    8082/tcp, 0.0.0.0:8086->8086/tcp                                                                                                         restproxy
652a2d8c7bed   confluentinc/cp-ksqldb-server:6.1.1               "/etc/confluent/dockâ€¦"   4 minutes ago    Up 4 minutes    0.0.0.0:8088-8089->8088-8089/tcp                                                                                                         ksqldb-server
ba86d0a50bbb   confluentinc/cp-enterprise-control-center:6.1.1   "/etc/confluent/dockâ€¦"   8 minutes ago    Up 8 minutes    0.0.0.0:9021-9022->9021-9022/tcp                                                                                                         control-center
e7ba6209ac17   localbuild/connect:6.1.1-6.1.1                    "/etc/confluent/dockâ€¦"   8 minutes ago    Up 8 minutes    0.0.0.0:8083->8083/tcp, 9092/tcp                                                                                                         connect
b496c2b00c25   confluentinc/cp-schema-registry:6.1.1             "/etc/confluent/dockâ€¦"   8 minutes ago    Up 8 minutes    8081/tcp, 0.0.0.0:8085->8085/tcp                                                                                                         schemaregistry
63ffce580892   cnfldemos/tools:0.2                               "/bin/bash"              14 minutes ago   Up 14 minutes                                                                                                                                            tools
d007b87a5eb5   confluentinc/cp-server:6.1.1                      "bash -c 'if [ ! -f â€¦"   14 minutes ago   Up 14 minutes   0.0.0.0:8092->8092/tcp, 0.0.0.0:9092->9092/tcp, 0.0.0.0:10092->10092/tcp, 0.0.0.0:11092->11092/tcp, 0.0.0.0:12092->12092/tcp             kafka2
a010b8f33d7b   confluentinc/cp-server:6.1.1                      "bash -c 'if [ ! -f â€¦"   14 minutes ago   Up 14 minutes   0.0.0.0:8091->8091/tcp, 0.0.0.0:9091->9091/tcp, 0.0.0.0:10091->10091/tcp, 0.0.0.0:11091->11091/tcp, 0.0.0.0:12091->12091/tcp, 9092/tcp   kafka1
53f5ee5bb145   confluentinc/cp-zookeeper:6.1.1                   "/etc/confluent/dockâ€¦"   14 minutes ago   Up 14 minutes   2888/tcp, 0.0.0.0:2181-2182->2181-2182/tcp, 3888/tcp                                                                                     zookeeper
61bf41d366a6   osixia/openldap:1.3.0                             "/container/tool/runâ€¦"   14 minutes ago   Up 14 minutes   0.0.0.0:389->389/tcp, 636/tcp                                                                                                            openldap
balakumarbalasundaram@Balakumars-MBP cp-demo % ./scripts/stop.sh                      
Stopping streams-demo   ... done
Stopping ksqldb-cli     ... done
Stopping restproxy      ... done
Stopping ksqldb-server  ... done
Stopping control-center ... done
Stopping connect        ... done
Stopping schemaregistry ... done
Stopping tools          ... done
Stopping kafka2         ... done
Stopping kafka1         ... done
Stopping zookeeper      ... done
Stopping openldap       ... done
Removing streams-demo   ... done
Removing ksqldb-cli     ... done
Removing restproxy      ... done
Removing ksqldb-server  ... done
Removing control-center ... done
Removing connect        ... done
Removing schemaregistry ... done
Removing tools          ... done
Removing kafka2         ... done
Removing kafka1         ... done
Removing zookeeper      ... done
Removing openldap       ... done
Removing network cp-demo_default

-----------------------------------------------------------------------------------------------------------
If you ran the Hybrid Cloud portion of this tutorial, which included creating resources in Confluent Cloud,
follow the clean up procedure to destroy those resources to avoid unexpected charges.

     https://docs.confluent.io/platform/current/tutorials/cp-demo/docs/teardown.html

-----------------------------------------------------------------------------------------------------------
